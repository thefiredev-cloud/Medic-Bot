# =============================================================================
# LA County Fire Medic Bot - Environment Configuration
# =============================================================================
# Copy this file to .env.local for development
# For production: Set these variables in Netlify Environment Variables
# =============================================================================

# =============================================================================
# LLM Configuration (Required)
# =============================================================================
# LLM Provider: "openai" or "anthropic"
# Default: openai
# Set to "anthropic" for production-grade Claude features
LLM_PROVIDER=openai

# API Keys
# Option 1: Claude (Anthropic) - Production-grade features
ANTHROPIC_API_KEY=your_anthropic_api_key_here
# Get your key from: https://console.anthropic.com/

# Option 2: OpenAI - Cost-effective option
LLM_API_KEY=your_openai_api_key_here
# Get your key from: https://platform.openai.com/api-keys

# LLM API base URL (only required for OpenAI provider)
LLM_BASE_URL=https://api.openai.com/v1

# LLM Model Selection
# Claude models: claude-sonnet-4-5-20250929 (recommended), claude-opus-4-20250514
# OpenAI models: gpt-4o-mini (cost-effective), gpt-4o (capable)
LLM_MODEL=gpt-4o-mini

# =============================================================================
# Knowledge Base Configuration
# =============================================================================
# Knowledge base scope (pcm = LA County Prehospital Care Manual)
KB_SCOPE=pcm

# Knowledge base source (clean = validated clinical content)
KB_SOURCE=clean

# Optional: Custom KB file path (defaults to data/ems_kb_clean.json)
# KB_PATH=/path/to/custom/kb.json

# =============================================================================
# Rate Limiting Configuration
# =============================================================================
# Chat endpoint rate limit (requests per minute per IP)
RATE_LIMIT_CHAT_RPM=20

# API endpoint rate limit (requests per minute per IP)
RATE_LIMIT_API_RPM=60

# =============================================================================
# Admin Access Control
# =============================================================================
# Comma-separated list of IP addresses allowed to access admin endpoints
# Example: ADMIN_IP_ALLOWLIST=127.0.0.1,::1,192.168.1.100
ADMIN_IP_ALLOWLIST=127.0.0.1,::1

# =============================================================================
# Audit Endpoint Protection
# =============================================================================
# Access token for audit log endpoints (generate a strong random token)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
AUDIT_ACCESS_TOKEN=generate_strong_random_token_here

# =============================================================================
# Feature Flags
# =============================================================================
# Enable audit logging (true/false)
ENABLE_AUDIT_LOGGING=true

# Enable analytics tracking (true/false)
ENABLE_ANALYTICS=false

# Enable new streaming service with real Claude streaming (true/false)
# Requires LLM_PROVIDER=anthropic for full functionality
ENABLE_STREAMING_V2=false

# Enable agent orchestration with tool use (true/false)
# Requires LLM_PROVIDER=anthropic
ENABLE_AGENT_MODE=false

# Enable extended thinking for complex medical reasoning (true/false)
# Claude only feature - provides detailed reasoning before response
ENABLE_EXTENDED_THINKING=false

# =============================================================================
# Application Settings
# =============================================================================
# Node environment (development, production, test)
NODE_ENV=development

# Application URL (used for CORS, redirects, etc.)
# For development: http://localhost:3000
# For production: https://your-domain.netlify.app
APP_URL=http://localhost:3000

# =============================================================================
# Future: Database Configuration (Phase 2)
# =============================================================================
# Supabase connection string for audit logs and metrics
# DATABASE_URL=postgresql://user:password@host:port/database

# =============================================================================
# Future: External Integrations (Phase 2+)
# =============================================================================
# LA County FireCAD integration
# FIRECAD_API_URL=
# FIRECAD_API_KEY=

# ESO Solutions integration (ePCR)
# ESO_API_URL=
# ESO_API_KEY=

# =============================================================================
# Future: Monitoring & Error Tracking (Phase 2)
# =============================================================================
# Sentry error tracking DSN
# SENTRY_DSN=

# =============================================================================
# Development Settings
# =============================================================================
# Enable debug logging in development
DEBUG=false

# Disable Husky git hooks in CI/CD environments
HUSKY=0
