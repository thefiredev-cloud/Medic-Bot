# Chat Input Button Layout - Visual Guide

## Desktop View (>= 768px)

### Default State (All Buttons Closed)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                    â”‚
â”‚  Ask about LA County protocols, medications, procedures...         â”‚ â† Textarea
â”‚                                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    [Chat â–¼] [Voice] [Narrative â–¼] â”‚
â”‚                                                           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Button Details:
- [Chat â–¼]      : Red gradient bg, white text, dropdown indicator
- [Voice]       : Light gray bg, gray icon, square (48x48)
- [Narrative â–¼] : Red gradient bg, white text, dropdown indicator
```

### Chat Dropdown Open

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                    â”‚
â”‚  Ask about LA County protocols, medications, procedures...         â”‚
â”‚                                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— â”‚
â”‚  [Chat â–²]  [Voice]  [Narrative â–¼]     â•‘ ğŸ’¬ Send Message        â•‘ â”‚
â”‚                                        â•‘ ğŸ¤ Stop Voice Input    â•‘ â”‚
â”‚                                        â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Dropdown Styling:
- Width: Matches button width
- Position: Below button
- Shadow: 3-layer professional shadow
- Border: 1px solid light gray
- Animation: Smooth slide-down
```

### Narrative Dropdown Open

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                    â”‚
â”‚  Ask about LA County protocols, medications, procedures...         â”‚
â”‚                                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Chat â–¼]  [Voice]  [Narrative â–²]     â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—â”‚
â”‚                                        â•‘ ğŸ“„ Build Full Narrative  â•‘â”‚
â”‚                                        â•‘ ğŸ“„ SOAP Format           â•‘â”‚
â”‚                                        â•‘ ğŸ“„ Chronological Format  â•‘â”‚
â”‚                                        â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Dropdown Items:
1. Build Full Narrative - SOAP + Chrono + NEMSIS + Care Plan
2. SOAP Format - Subjective, Objective, Assessment, Plan
3. Chronological Format - Timeline-based narrative

Each item has:
- Left icon (FileText)
- Label text
- Hover: Cyan tint background + blue text
```

---

## Mobile View (< 768px)

### Default Collapsed State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ask about LA County protocols...      â”‚
â”‚                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Chat â–¼] [Voice] [Narrative â–¼]      â”‚
â”‚                                      â”‚
â”‚        â•­â”€ Show more â”€â•®               â”‚
â”‚        â”‚   ğŸ”¼ ChevUp â”‚               â”‚
â”‚        â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Mobile Layout:
- 3 equal columns
- Responsive grid
- Buttons wrap if needed
- Touch targets: 48x48px minimum
```

### Mobile Chat Dropdown

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ask about LA County protocols...      â”‚
â”‚                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Chat â–²] [Voice] [Narrative â–¼]      â”‚
â”‚                                      â”‚
â”‚ â•”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•— â”‚
â”‚ â•‘ ğŸ’¬ Send Message                  â•‘ â”‚
â”‚ â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£ â”‚
â”‚ â•‘ ğŸ¤ Stop Voice Input              â•‘ â”‚
â”‚ â•šâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â• â”‚
â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Mobile Dropdown:
- Full width (-16px padding)
- Pop-up from bottom
- Fixed positioning
- Rounded top corners
- Dark overlay behind
```

---

## Button States

### Default Button

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¬ Chat  â–¼   â”‚  â† Standard red gradient
â”‚              â”‚     White text
â”‚ 20x16  20x20 â”‚     Icons: 18px
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Button Hover

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¬ Chat  â–¼   â”‚  â† Enhanced shadow
â”‚              â”‚     Slight translate up (-2px)
â”‚ 20x16  20x20 â”‚     More vivid shadow
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Button Active/Pressed

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¬ Chat  â–¼   â”‚  â† Reduced shadow
â”‚              â”‚     Back to normal position
â”‚ 20x16  20x20 â”‚     Subtle press effect
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Voice Button Default

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ğŸ¤    â”‚  â† Light gray bg
â”‚          â”‚     Gray icon
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   48x48px (square)
```

### Voice Button Listening

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ğŸ¤â—   â”‚  â† Cyan gradient bg
â”‚          â”‚     Blue icon
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   48x48px
   â— = pulsing indicator dot
       (top-right corner, 8x8px)
```

---

## Dropdown Item States

### Default Item

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¬ Send Message              â”‚  â† Dark gray text
â”‚                              â”‚     No background
â”‚  16x16   12px gap   ~150px   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Item Hover

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¬ Send Message              â”‚  â† Blue text
â”‚                              â”‚     Light cyan bg
â”‚  16x16   12px gap   ~150px   â”‚     rgba(56,189,248,0.1)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Item Active

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¬ Send Message              â”‚  â† Blue text
â”‚                              â”‚     Darker cyan bg
â”‚  16x16   12px gap   ~150px   â”‚     rgba(56,189,248,0.05)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Spacing & Dimensions

### Button Dimensions

```
Regular Buttons (Chat, Narrative):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 48px                â”‚ â† Height
â”‚ 0 16px padding      â”‚ â† Padding
â”‚ ~90px width         â”‚ â† Approx width (flexible with label)
â”‚ 12px border-radius  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Voice Button:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 48x48px  â”‚ â† Square
â”‚ padding: 0â”‚
â”‚ grid     â”‚
â”‚ place-   â”‚
â”‚ items:   â”‚
â”‚ center   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Dropdown Menu

```
Position: absolute
Top: 100% (below button)
Left: 0
Right: 0
Margin-top: 8px
Border-radius: 12px
Width: Same as button (100%)
Z-index: 100
```

### Gap Between Buttons

```
Desktop: 12px
Mobile: 8px (grid gap)
```

---

## Color Palette

### Action Buttons
```
Background: linear-gradient(180deg, #c41e3a 0%, #8b1a2e 100%)
   â†“ Hover
   Darker shadow, slight translate up

Text: #ffffff (white)
```

### Voice Button
```
Default Background: var(--surface-elevated) â†’ Light gray/white
Default Border: 1px solid var(--border) â†’ Light gray
Default Icon Color: var(--muted) â†’ Gray

Listening Background: linear-gradient(180deg, #38bdf8 0%, #0ea5e9 100%)
Listening Icon Color: #04111f (dark)
Listening Border: var(--accent) â†’ Cyan
```

### Dropdown Menu
```
Background: var(--surface-elevated) â†’ Light gray/white
Border: 1px solid var(--border) â†’ Light gray
Shadow: 0 4px 6px rgba(0,0,0,0.1),
        0 10px 20px rgba(0,0,0,0.08),
        0 15px 40px rgba(0,0,0,0.06)
```

### Dropdown Items
```
Text: var(--text-primary) â†’ Dark gray/black

Hover Background: rgba(56, 189, 248, 0.1) â†’ Very light cyan
Hover Text: var(--accent) â†’ Cyan (#38bdf8)

Active Background: rgba(56, 189, 248, 0.05) â†’ Even lighter cyan
Active Text: var(--accent) â†’ Cyan

Disabled: 50% opacity
```

---

## Icons Used

```
ğŸ’¬ MessageCircle     - Chat button, Send dropdown
ğŸ¤ Mic               - Voice button, Voice dropdown
ğŸ“„ FileText          - Narrative button, Narrative dropdowns
ğŸ”½ ChevronDown       - Dropdown indicators (rotates 180Â° when open)
```

All icons from: `lucide-react` package
Size: 18px on buttons, 16px in dropdowns

---

## Animations

### Dropdown Appearance
```css
@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
Duration: 200ms
Timing: ease-out
```

### Voice Recording Pulse
```css
@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}
Duration: 2s
Iteration: infinite
Applied to: .voice-recording-indicator (8x8px dot)
```

### Button Transitions
```css
transition: transform 0.15s ease,
            box-shadow 0.2s ease,
            filter 0.2s ease;
```

---

## Accessibility Features

### Aria Labels
```tsx
<button aria-label="Send message" aria-expanded={showChatDropdown}>
  Chat
</button>

<button aria-label="Voice input toggle" aria-pressed={listening}>
  Voice
</button>

<button aria-label="Build narrative" aria-expanded={showNarrativeDropdown}>
  Narrative
</button>
```

### Keyboard Navigation
- Tab: Move between buttons
- Enter/Space: Activate button or toggle dropdown
- Escape: Close dropdown
- Arrow Keys: Navigate within dropdown

### Focus Indicators
All buttons have `:focus-visible` states with proper outline

### Color Independence
Status is not communicated by color alone:
- Voice listening has animated pulse indicator DOT
- Not just color change

---

## Responsive Breakpoints

```css
/* Desktop */
@media (min-width: 768px) {
  Display: Flex
  Gap: 12px
  Alignment: flex-end (right)
  Buttons: Full-width with labels
}

/* Mobile */
@media (max-width: 767px) {
  Display: Grid (3 columns)
  Gap: 8px
  Buttons: Equal width
  Icons only might show on very small screens
  Dropdowns: Bottom popup style
}
```

---

## Summary

The new layout achieves:
âœ… **Decluttered** - Separated into 3 distinct button groups
âœ… **Intuitive** - Clear visual grouping by function
âœ… **Professional** - Consistent styling and spacing
âœ… **Accessible** - Full ARIA support
âœ… **Responsive** - Works on all screen sizes
âœ… **Modern** - Smooth animations and hover states
âœ… **Efficient** - Quick voice access without menu navigation
